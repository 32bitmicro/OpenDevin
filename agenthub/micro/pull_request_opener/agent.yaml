name: PullRequestOpenerAgent
description: "Open a pull request for pending changes in the repository"
inputs: {}
workflow:
  - name: add_changes
    do:
      action: run
      args:
        command: git add .
  - name: generate_message
    do:
      action: delegate
      args:
        agent: CommitWriterAgent
  - name: commit_changes
    do:
      prompt: commit.md
      inputs:
        commit_message: '{{ outputs.generate_message.message }}'
  - name: open_pull_request
    do:
      prompt: pull_request.md
